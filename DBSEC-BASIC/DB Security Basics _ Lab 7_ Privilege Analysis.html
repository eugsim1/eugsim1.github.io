<!DOCTYPE html>
<!-- saved from url=(0124)https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis -->
<html lang="en" class="fa-events-icons-ready"><div id="cookieStore" style="display: none;">{"SL_GWPT_Show_Hide_tmp":"1","SL_wptGlobTipTmp":"1"}</div><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="publisheddate" content="10/20/2020"><meta name="description" content="In this lab you can see how to leverage Oracle Privilege Analysis"><script async="" src="https://apex.oraclecorp.com/pls/apex/livelabs-analytics/r/files/static/v2/track.min.js"></script>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Oracle LiveLabs gives you access to Oracle&#39;s products to run a wide variety of labs and workshops; allowing you to experience our best technology, live!">
    <title>DB Security Basics | Lab 7: Privilege Analysis</title>

    <script src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/jquery-1.11.0.min.js.download"></script>
    <script src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/jquery-ui-1.10.4.custom.js.download"></script>
    <script src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/main.min.js.download"></script>

    <link rel="stylesheet" href="./DB Security Basics _ Lab 7_ Privilege Analysis_files/style.min.css">
    <link rel="shortcut icon" href="https://oracle.github.io/learning-library/common/redwood-hol/img/favicon.ico">
<style>@media print {#ghostery-tracker-tally {display:none !important}}</style><link href="./DB Security Basics _ Lab 7_ Privilege Analysis_files/840a321d95.css" media="all" rel="stylesheet"></head>

<body style="">
    <header class="hol-Header" role="banner">
        <div class="hol-Header-wrap"><div class="hol-Header-actions" style="display: block;">
                <button id="openNav" class="hol-Header-button hol-Header-button--menu rightNav" aria-label="Open Menu" title="Open Menu">
                    <span class="hol-Header-toggleIcon"></span>
                </button>
            </div>
            <div class="hol-Header-logo">DB Security Basics<div id="tutorial-title">		›		Oracle Privelege Analysis</div></div>
            <a href="https://bit.ly/golivelabs" target="_blank" id="livelabs" title="Oracle LiveLabs"></a>
            
        <a href="mailto:livelabs-help-db_us@oracle.com?subject=Question%20about%20workshop:%20DB%20Security%20Basics" title="Need help? Send us an email." id="need_help" tabindex="0">?</a></div>
    </header>

    <div id="container">
        <div id="leftNav" class="open">
            <div id="toc"></div>
        <div id="leftNav-toc" class="open scroll" style="max-height: 816px;"><ul class="hol-Nav-list"><li id="tut-intro" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=intro"><div>Introduction</div></a><div id="toc0" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=intro#AboutthisWorkshop"><li class="toc-item" data-unique="AboutthisWorkshop">About this Workshop</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=intro#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-pre-register-free-tier-account" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=pre-register-free-tier-account"><div>Getting Started</div></a><div id="toc1" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=pre-register-free-tier-account#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=pre-register-free-tier-account#STEP1:CreateYourFreeTrialAccount"><li class="toc-item" data-unique="STEP1:CreateYourFreeTrialAccount">STEP 1: Create Your Free Trial Account</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=pre-register-free-tier-account#STEP2:SignintoYourAccount"><li class="toc-item" data-unique="STEP2:SignintoYourAccount">STEP 2: Sign in to Your Account</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=pre-register-free-tier-account#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-generate-ssh-keys" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys"><div>Lab 1: Generate SSH Keys</div></a><div id="toc2" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option1:OracleCloudShell"><li class="toc-item" data-unique="Option1:OracleCloudShell">Option 1:  Oracle Cloud Shell</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option2:MacOS"><li class="toc-item" data-unique="Option2:MacOS">Option 2:  MacOS</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option3:Windows10"><li class="toc-item" data-unique="Option3:Windows10">Option 3:  Windows 10</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option4a:PriorWindowsVersionsGitforWindows"><li class="toc-item" data-unique="Option4a:PriorWindowsVersionsGitforWindows">Option 4a: Prior Windows Versions - Git for Windows</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option4b:WindowsVersionsPuTTY"><li class="toc-item" data-unique="Option4b:WindowsVersionsPuTTY">Option 4b: Windows Versions - PuTTY</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Option5:SSHKeysforLinux"><li class="toc-item" data-unique="Option5:SSHKeysforLinux">Option 5: SSH Keys for Linux</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=generate-ssh-keys#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-prepare-setup" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup"><div>Lab 2: Prepare Setup</div></a><div id="toc3" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup#STEP1:DownloadOracleResourceManager(ORM)stackzipfile"><li class="toc-item" data-unique="STEP1:DownloadOracleResourceManager(ORM)stackzipfile">STEP 1: Download Oracle Resource Manager (ORM) stack zip file</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup#STEP2:AddingSecurityRulestoanExistingVCN"><li class="toc-item" data-unique="STEP2:AddingSecurityRulestoanExistingVCN">STEP 2: Adding Security Rules to an Existing VCN   </li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup#STEP3:SetupCompute"><li class="toc-item" data-unique="STEP3:SetupCompute">STEP 3: Setup Compute   </li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=prepare-setup#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-setup-compute" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute"><div>Lab 3: Environment Setup</div></a><div id="toc4" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Step1A:CreateStack:ComputeNetworking"><li class="toc-item" data-unique="Step1A:CreateStack:ComputeNetworking">Step 1A: Create Stack:  Compute + Networking</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Step1B:CreateStack:Computeonly"><li class="toc-item" data-unique="Step1B:CreateStack:Computeonly">Step 1B: Create Stack:  Compute only</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Step2:TerraformPlan(OPTIONAL)"><li class="toc-item" data-unique="Step2:TerraformPlan(OPTIONAL)">Step 2: Terraform Plan (OPTIONAL)</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Step3:TerraformApply"><li class="toc-item" data-unique="Step3:TerraformApply">Step 3: Terraform Apply</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Step4:HowtoEstablishaTerminalConnectiontoyourInstance"><li class="toc-item" data-unique="Step4:HowtoEstablishaTerminalConnectiontoyourInstance">Step 4: How to Establish a Terminal Connection to your Instance</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Appendix1:TerraformandResourceManager"><li class="toc-item" data-unique="Appendix1:TerraformandResourceManager">Appendix 1:  Terraform and Resource Manager</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Appendix2:TroubleshootingTips"><li class="toc-item" data-unique="Appendix2:TroubleshootingTips">Appendix 2: Troubleshooting Tips</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=setup-compute#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-init-start-env-freetier" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier"><div>Lab 4: Initialize Environment</div></a><div id="toc5" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#STEP1:AccesstheGraphicalRemoteDesktop(Preferred)"><li class="toc-item" data-unique="STEP1:AccesstheGraphicalRemoteDesktop(Preferred)">STEP 1: Access the Graphical Remote Desktop (Preferred)</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#STEP2:EnableCopyPastefromLocaltoRemoteDesktop(noVNCclipboard)"><li class="toc-item" data-unique="STEP2:EnableCopyPastefromLocaltoRemoteDesktop(noVNCclipboard)">STEP 2: Enable Copy/Paste from Local to Remote Desktop (noVNC clipboard)</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#STEP3:OpenWorkshopGuidefromtheRemoteDesktop"><li class="toc-item" data-unique="STEP3:OpenWorkshopGuidefromtheRemoteDesktop">STEP 3: Open Workshop Guide from the Remote Desktop</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#STEP4:LogintoHostusingSSHKeyBasedAuthentication(Optional)"><li class="toc-item" data-unique="STEP4:LogintoHostusingSSHKeyBasedAuthentication(Optional)">STEP 4: Login to Host using SSH Key Based Authentication (Optional)</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=init-start-env-freetier#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-dbsat" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat"><div>Lab 5: Database Assessment Tool (DBSAT)</div></a><div id="toc6" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP1:InstallingDBSAT"><li class="toc-item" data-unique="STEP1:InstallingDBSAT">STEP 1: Installing DBSAT</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP2:Collectdata"><li class="toc-item" data-unique="STEP2:Collectdata">STEP 2: Collect data</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP3:Generatethereport"><li class="toc-item" data-unique="STEP3:Generatethereport">STEP 3: Generate the report</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP4:AnalyzetheReportSummary"><li class="toc-item" data-unique="STEP4:AnalyzetheReportSummary">STEP 4: Analyze the Report - Summary</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP5:AnalyzetheReportFindings"><li class="toc-item" data-unique="STEP5:AnalyzetheReportFindings">STEP 5: Analyze the Report - Findings</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP6:AnalyzetheReportDetails"><li class="toc-item" data-unique="STEP6:AnalyzetheReportDetails">STEP 6: Analyze the Report - Details</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP7:DiscoverSensitiveData"><li class="toc-item" data-unique="STEP7:DiscoverSensitiveData">STEP 7: Discover Sensitive Data</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP8:AnalyzetheDiscovererReportSummary"><li class="toc-item" data-unique="STEP8:AnalyzetheDiscovererReportSummary">STEP 8: Analyze the Discoverer Report - Summary</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP9:AdvancedDiscovererGettingintodbsatconfigDiscoveryparameters"><li class="toc-item" data-unique="STEP9:AdvancedDiscovererGettingintodbsatconfigDiscoveryparameters">STEP 9: Advanced Discoverer - Getting into dbsat.config Discovery parameters</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP10:AdvancedDiscovererGettingintoPatternfilesSensitiveTypesandCategories"><li class="toc-item" data-unique="STEP10:AdvancedDiscovererGettingintoPatternfilesSensitiveTypesandCategories">STEP 10: Advanced Discoverer - Getting into Pattern files, Sensitive Types, and Categories</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP11:AdvancedDiscovererPatternFiles"><li class="toc-item" data-unique="STEP11:AdvancedDiscovererPatternFiles">STEP 11: Advanced Discoverer - Pattern Files</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP12:ProcessingDBSATreportJSONoutput"><li class="toc-item" data-unique="STEP12:ProcessingDBSATreportJSONoutput">STEP 12: Processing DBSAT report JSON output</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#STEP13:(Optional)UninstallingDBSAT"><li class="toc-item" data-unique="STEP13:(Optional)UninstallingDBSAT">STEP 13: (Optional) Uninstalling DBSAT</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#Appendix:AbouttheProduct"><li class="toc-item" data-unique="Appendix:AbouttheProduct">Appendix: About the Product</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#WanttoLearnMore?"><li class="toc-item" data-unique="WanttoLearnMore?">Want to Learn More?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=dbsat#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-nne" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne"><div>Lab 6: Native Network Encryption (NNE)</div></a><div id="toc7" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#STEP1:Checkthecurrentnetworkconfiguration"><li class="toc-item" data-unique="STEP1:Checkthecurrentnetworkconfiguration">STEP 1: Check the current network configuration</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#STEP2:GenerateandcaptureSQLtraffic"><li class="toc-item" data-unique="STEP2:GenerateandcaptureSQLtraffic">STEP 2: Generate and capture SQL traffic</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#STEP3:Enablethenetworkencryption"><li class="toc-item" data-unique="STEP3:Enablethenetworkencryption">STEP 3: Enable the network encryption</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#STEP4:(Optional)Disablethenetworkencryption"><li class="toc-item" data-unique="STEP4:(Optional)Disablethenetworkencryption">STEP 4: (Optional) Disable the network encryption</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#Appendix:AbouttheProduct"><li class="toc-item" data-unique="Appendix:AbouttheProduct">Appendix: About the Product</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#WanttoLearnMore?"><li class="toc-item" data-unique="WanttoLearnMore?">Want to Learn More?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-priv-analysis" class="selected"><div><div class="arrow">-</div><div>Lab 7: Privilege Analysis</div><div id="toc8" class="toc"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#STEP1:Capturetheworkloadtoanalyze"><li class="toc-item active" data-unique="STEP1:Capturetheworkloadtoanalyze">STEP 1: Capture the workload to analyze</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#STEP2:Analyzetheworkloadcaptured"><li class="toc-item" data-unique="STEP2:Analyzetheworkloadcaptured">STEP 2: Analyze the workload captured</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#STEP3:(Optional)Dropthecapture"><li class="toc-item" data-unique="STEP3:(Optional)Dropthecapture">STEP 3: (Optional) Drop the capture</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#Appendix:AbouttheProduct"><li class="toc-item" data-unique="Appendix:AbouttheProduct">Appendix: About the Product</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#WanttoLearnMore?"><li class="toc-item" data-unique="WanttoLearnMore?">Want to Learn More?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-unified-auditing" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing"><div>Lab 8: Unified Auditing</div></a><div id="toc9" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#STEP1:Displaythecurrentauditsettings"><li class="toc-item" data-unique="STEP1:Displaythecurrentauditsettings">STEP 1: Display the current audit settings</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#STEP2:AuditNonAppUsage"><li class="toc-item" data-unique="STEP2:AuditNonAppUsage">STEP 2: Audit Non App Usage</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#STEP3:AuditDatabaseRoleUsage"><li class="toc-item" data-unique="STEP3:AuditDatabaseRoleUsage">STEP 3: Audit Database Role Usage</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#STEP4:AuditDataPumpUsage"><li class="toc-item" data-unique="STEP4:AuditDataPumpUsage">STEP 4: Audit Data Pump Usage</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#STEP5:CleanuptheUnifiedAuditingConfiguration"><li class="toc-item" data-unique="STEP5:CleanuptheUnifiedAuditingConfiguration">STEP 5: Cleanup the Unified Auditing Configuration</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#Appendix:AbouttheProduct"><li class="toc-item" data-unique="Appendix:AbouttheProduct">Appendix: About the Product</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#WanttoLearnMore?"><li class="toc-item" data-unique="WanttoLearnMore?">Want to Learn More?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-tsdp" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp"><div>Lab 9: Transparent Sensitive Data Protection (TSDP)</div></a><div id="toc10" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#STEP1:PreparetheTSDPEnvironmentfortheLabs"><li class="toc-item" data-unique="STEP1:PreparetheTSDPEnvironmentfortheLabs">STEP 1: Prepare the TSDP Environment for the Labs</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#STEP2:CreateaTSDPPolicy"><li class="toc-item" data-unique="STEP2:CreateaTSDPPolicy">STEP 2: Create a TSDP Policy</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#STEP3:(Optional)ResettheTSDPLabsEnvironment"><li class="toc-item" data-unique="STEP3:(Optional)ResettheTSDPLabsEnvironment">STEP 3: (Optional) Reset the TSDP Labs Environment</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#Appendix:AbouttheProduct"><li class="toc-item" data-unique="Appendix:AbouttheProduct">Appendix: About the Product</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#WanttoLearnMore?"><li class="toc-item" data-unique="WanttoLearnMore?">Want to Learn More?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=tsdp#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li><li id="tut-need-help-freetier" tabindex="0"><div><div class="arrow">+</div><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier"><div>Need Help?</div></a><div id="toc11" class="toc" style="display: none;"><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#Introduction"><li class="toc-item" data-unique="Introduction">Introduction</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#HowtoFormatYourSupportEmailRequest"><li class="toc-item" data-unique="HowtoFormatYourSupportEmailRequest">How to Format Your Support Email Request</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#CantLogintoOracleCloud"><li class="toc-item" data-unique="CantLogintoOracleCloud">Can't Login to Oracle Cloud</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#CantCreateanOracleDatabase?NothinginYourCompartment?"><li class="toc-item" data-unique="CantCreateanOracleDatabase?NothinginYourCompartment?">Can't Create an Oracle Database? Nothing in Your Compartment?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#ConnectivityIssues?UnabletoUploadDataorConnecttotheDatabase?"><li class="toc-item" data-unique="ConnectivityIssues?UnabletoUploadDataorConnecttotheDatabase?">Connectivity Issues? Unable to Upload Data or Connect to the Database?</li></a></ul><ul><a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=need-help-freetier#Acknowledgements"><li class="toc-item" data-unique="Acknowledgements">Acknowledgements</li></a></ul></div></div></li></ul></div></div>
        <div id="contentBox" class="open" style="min-height: 674px;">
            <main class="hol-Content" id="module-content"><article><h1 id="oracleprivelegeanalysis">Oracle Privelege Analysis</h1>
<section><div name="Introduction" data-unique="Introduction"></div><h2 id="introduction">Introduction</h2><p>This workshop introduces the functionality of Oracle Privilege Analysis. It gives the user an opportunity to learn how to use this feature to always know privileges usage accessed by all users during all the database life.</p><p><em>Estimated Lab Time:</em> 15 minutes</p><p><em>Version tested in this lab:</em> Oracle DB 19.10</p><h3 id="videopreview">Video Preview</h3><p>Watch a preview of "<em>Understanding Privilege Analysis (January 2019)</em>" <div class="video-container"><iframe src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/3oRODVtWwbg.html" frameborder="0" allowfullscreen=""></div></iframe></div></p><h3 id="objectives">Objectives</h3><ul>
<li>Capture the workload of a database</li>
<li>Generate a Privilege Analysis report to know all the user/system privileges used during this capture</li>
</ul><h3 id="prerequisites">Prerequisites</h3><p>This lab assumes you have:</p><ul>
<li>A Free Tier, Paid or LiveLabs Oracle Cloud account</li>
<li>SSH Private Key to access the host via SSH</li>
<li>You have completed:<ul>
<li>Lab: Generate SSH Keys (<em>Free-tier</em> and <em>Paid Tenants</em> only)</li>
<li>Lab: Prepare Setup (<em>Free-tier</em> and <em>Paid Tenants</em> only)</li>
<li>Lab: Environment Setup</li>
<li>Lab: Initialize Environment</li></ul></li>
</ul><h3 id="labtimingestimated">Lab Timing (estimated)</h3><table>
<thead>
<tr>
<th>Step No.</th>
<th>Feature</th>
<th>Approx. Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Capture the workloard to analyze</td>
<td>5 minutes</td>
</tr>
<tr>
<td>2</td>
<td>Analyze the workload caputred</td>
<td>5 minutes</td>
</tr>
<tr>
<td>3</td>
<td>(Optional) Drop the capture</td>
<td>&lt;5 minutes</td>
</tr>
</tbody>
</table></section>












<section><div name="STEP1:Capturetheworkloadtoanalyze" data-unique="STEP1:Capturetheworkloadtoanalyze"></div><button id="btn_toggle" class="hol-ToggleRegions minus">Collapse All Steps</button><h2 id="step1capturetheworkloadtoanalyze" class="minus" tabindex="0"><strong>STEP 1</strong>: Capture the workload to analyze</h2><ol style="">
<li><p>Open a SSH session on your <strong>DBSec-Lab VM as <em>oracle</em> user</strong></p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs nginx"><span class="copy-code"><span class="hljs-attribute">sudo</span> su - oracle</span></code></pre></li>
<li><p>Go to the scripts directory</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs bash"><span class="copy-code"><span class="hljs-built_in">cd</span> <span class="hljs-variable">$DBSEC_LABS</span>/priv-analysis</span></code></pre></li>
<li><p>Start by ensuring the user has the "<code>CAPTURE_ADMIN</code>" role and creating the Privilege Analysis capture</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_create_capture.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-001.png" alt=""></figure></p></li>
<li><p>Next, start the capture</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_enable_capture.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-002.png" alt=""></figure></p>
<p><strong>Note</strong>: This will start collecting all of the privileges and/or roles that are being used</p></li>
<li><p>Generate some workload so we have used and unused roles and privileges</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_generate_workload.sh</span></code></pre></li>
<li><p>We can disable the capture when we feel we have enough data</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_disable_capture.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-003.png" alt=""></figure></p></li>
</ol></section>

<section><div name="STEP2:Analyzetheworkloadcaptured" data-unique="STEP2:Analyzetheworkloadcaptured"></div><h2 id="step2analyzetheworkloadcaptured" class="minus" tabindex="0"><strong>STEP 2</strong>: Analyze the workload captured</h2><ol style="">
<li><p>Generating the report</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_generate_report.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-004.png" alt=""></figure></p>
<p><strong>Note</strong>:</p>
<ul>
<li>It takes all of the privileges and roles that were identified as used during the capture and compares it to the roles and privileges granted to each user</li>
<li>It may take a few minutes to generate depending on the volume to be processed</li></ul></li>
<li><p>Next, view the report results by querying the views associated with the capture output</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_review_report.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-005.png" alt=""></figure></p></li>
</ol></section>

<section><div name="STEP3:(Optional)Dropthecapture" data-unique="STEP3:(Optional)Dropthecapture"></div><h2 id="step3optionaldropthecapture" class="minus" tabindex="0"><strong>STEP 3</strong>: (Optional) Drop the capture</h2><ol style="">
<li><p>Once we have reviewed our report and we are comfortable with Privilege Analysis, we can drop the capture we created</p>
<pre><button class="copy-button" title="Copy text to clipboard">Copy</button><code class="hljs"><span class="copy-code">./pa_drop_capture.sh</span></code></pre>
<p><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-006.png" alt=""></figure></p></li>
</ol><p style="">You may now <a href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#next">proceed to the next lab</a>..</p></section>


<section><div name="Appendix:AbouttheProduct" data-unique="Appendix:AbouttheProduct"></div><h2 id="appendixabouttheproduct" class="minus" tabindex="0"><strong>Appendix</strong>: About the Product</h2><h3 id="overview" style=""><strong>Overview</strong></h3><p style="">Privilege analysis increases the security of your applications and database operations by helping you to implement least privilege best practices for database roles and privileges.</p><p style="">Running inside the Oracle Database kernel, privilege analysis helps reduce the attack surface of user, tooling, and application accounts by identifying used and unused privileges to implement the least-privilege model.</p><p style=""><figure><img src="./DB Security Basics _ Lab 7_ Privilege Analysis_files/pa-concept.png" alt=""></figure></p><p style="">Privilege analysis dynamically captures privileges used by database users and applications. The use of privilege analysis can help to quickly and efficiently enforce least privilege guidelines. In the least-privilege model, users are only given the privileges and access they need to do their jobs. Frequently, even though users perform different tasks, users are all granted the same set of powerful privileges. Without privilege analysis, figuring out the privileges that each user must have can be hard work and in many cases, users could end up with some common set of privileges even though they have different tasks. Even in organizations that manage privileges, users tend to accumulate privileges over time and rarely lose any privileges. Separation of duty breaks a single process into separate tasks for different users. Least privileges enforces the separation so users can only do their required tasks. The enforcement of separation of duty is beneficial for internal control, but it also reduces the risk from malicious users who steal privileged credentials.</p><p style="">Privilege analysis captures privileges used by database users and applications at runtime and writes its findings to data dictionary views that you can query. If your applications include definer’s rights and invoker’s rights procedures, then privilege analysis captures the privileges that are required to compile a procedure and execute it, even if the procedure was compiled before the privilege capture was created and enabled.</p><p style="">You can create different types of privilege analysis policies to achieve specific goals:</p><ul style="">
<li><p><strong>Role-based privilege use capture</strong></p>
<p>You must provide a list of roles. If the roles in the list are enabled in the database session, then the used privileges for the session will be captured. You can capture privilege use for the following types of roles: Oracle default roles, user-created roles, Code Based Access Control (CBAC) roles, and secure application roles.</p></li>
<li><p><strong>Context-based privilege use capture</strong></p>
<p>You must specify a Boolean expression only with the <code>SYS_CONTEXT</code> function. The used privileges will be captured if the condition evaluates to <code>TRUE</code>. This method can be used to capture privileges and roles used by a database user by specifying the user in <code>SYS_CONTEXT</code>.</p></li>
<li><p><strong>Role- and context-based privilege use capture</strong></p>
<p>You must provide both a list of roles that are enabled and a <code>SYS_CONTEXT</code> Boolean expression for the condition. When any of these roles is enabled in a session and the given context condition is satisfied, then privilege analysis starts capturing the privilege use.</p></li>
<li><p><strong>Database-wide privilege capture</strong></p>
<p>If you do not specify any type in your privilege analysis policy, then the used privileges in the database will be captured, except those for the user <code>SYS</code>. (This is also referred to as unconditional analysis, because it is turned on without any conditions.)</p></li>
</ul><h3 id="benefitsofusingprivilegeanalysis" style=""><strong>Benefits of using Privilege Analysis</strong></h3><ul style="">
<li>Finding unnecessarily granted privileges</li>
<li>Implementing least privilege best practices: the privileges of the account that accesses a database should be limited to the privileges that are strictly required by the application or the user</li>
<li>Development of Secure Applications: during the application development phase, some administrators may grant many powerful system privileges and roles to application developers</li>
<li>You can create and use privilege analysis policies in a multitenant environment</li>
<li>Can be used to capture the privileges that have been exercised on pre-compiled database objects (PL/SQL packages, procedures, functions, views, triggers, and Java classes and data)</li>
</ul></section>










<section><div name="WanttoLearnMore?" data-unique="WanttoLearnMore?"></div><h2 id="wanttolearnmore" class="minus" tabindex="0">Want to Learn More?</h2><p style="">Technical Documentation:</p><ul style="">
<li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/dbseg/performing-privilege-analysis-find-privilege-use.html#GUID-44CB644B-7B59-4B3B-B375-9F9B96F60186" target="_blank">Oracle Privilege Analysis 19c</a></li>
</ul></section>


<section><div name="Acknowledgements" data-unique="Acknowledgements"></div><h2 id="acknowledgements" class="minus" tabindex="0">Acknowledgements</h2><ul style="">
<li><strong>Author</strong> - Hakim Loumi, Database Security PM</li>
<li><strong>Contributors</strong> - Rene Fontcha</li>
<li><strong>Last Updated By/Date</strong> - Hakim Loumi, Database Security PM - May 2021</li>
</ul></section>
<div id="modalWindow"><div id="modalCaption"></div><span id="modalClose">×</span><img id="modalImg"></div></article></main>
        </div>
    </div>

      <footer class="hol-Footer">
        <a class="hol-Footer-leftLink show" href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=nne" title="Previous">Previous</a><a class="hol-Footer-topLink" href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=priv-analysis#top">Return to Top</a><a class="hol-Footer-rightLink show" href="https://oracle.github.io/learning-library/security-library/database/baseline/workshops/freetier/index.html?lab=unified-auditing" title="Next">Next</a>
        <div id="footer-banner"><div class="footer-row">
          <div class="footer-content"><ul class="footer-links">
              <li><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=cpyr" target="_blank" aria-label="Open a new window to Oracle legal notices" data-lbl="copyright">© Oracle</a></li>
              <li><a href="https://www.oracle.com/corporate/index.html" target="_blank" aria-label="Open a new window to learn more about oracle" data-lbl="about-oracle">About Oracle</a></li>
              <li><a href="https://www.oracle.com/corporate/contact/" target="_blank" aria-label="Open a new window to contact oracle" data-lbl="contact-us">Contact Us</a></li>
              <li class="footer-links-break"></li>
              <li><a href="https://docs.oracle.com/en/browseall.html" target="_blank" aria-label="Open a new window to products a-z" data-lbl="products-a-z">Products A-Z</a></li>
              <li><a href="https://www.oracle.com/legal/privacy/" target="_blank" aria-label="Open a new window to read more about Oracle terms of use and privacy" data-lbl="terms-of-use-and-privacy">Terms of Use &amp; Privacy</a></li>
              <li><a href="https://www.oracle.com/legal/privacy/privacy-policy.html#11" target="_blank" aria-label="Open a new window to read more about managing Oracle cookie preferences" data-lbl="cookie-preferences">Cookie Preferences</a></li>
              <li><a href="https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#adchoices" target="_blank" aria-label="Open a new window to ad choices" data-lbl="ad-choices">Ad Choices</a></li>
              <li class="footer-links-break"></li><li class="last"><a href="https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&amp;id=cpyr" target="_blank" aria-label="Open a new window to Oracle legal notices" data-lbl="copyright">© Oracle</a></li>
            </ul>
          </div>
        </div>
      </div>
    </footer>



</body></html>